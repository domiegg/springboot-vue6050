(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0da6d7"],{"6c0d":function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t._self._c;return s("div",[s("div",{staticStyle:{margin:"22px 30px"}},[s("el-steps",{attrs:{space:200,active:3,"finish-status":"success"}},[s("el-step",{attrs:{title:"下单"}}),s("el-step",{attrs:{title:"付款"}}),s("el-step",{attrs:{title:"派送"}}),s("el-step",{attrs:{title:"收货评价"}})],1)],1),s("div",{staticClass:"shaddr-wrap"},[t._m(0),null!=t.receaddress?s("div",{staticClass:"bd"},[s("div",{staticClass:"contact"},[t._v(" "+t._s(t.receaddress.mobile)+" "+t._s(t.receaddress.shr)+" ")]),s("div",{staticClass:"addinfo"},[t._v(t._s(t.receaddress.addinfo)+" "),s("span",[t._v(t._s(t.receaddress.postcode))])])]):t._e()]),t._l(t.order.orderDetail,(function(e){return s("table",{staticClass:"smart-table",attrs:{border:"1"}},[s("tr",[s("td",{staticClass:"tlabel"},[t._v("订单编号")]),s("td",[t._v(t._s(t.order.ddno))]),s("td",{staticClass:"tlabel"},[t._v("下单时间:")]),s("td",[t._v(" "+t._s(t.order.createtime)+" ")])]),s("tr",[s("td",{staticClass:"tlabel"},[t._v("总金额")]),s("td",[t._v(t._s(t.order.totalfee)+"¥")]),s("td",{staticClass:"tlabel"},[t._v("下单人")]),s("td",[t._v(t._s(t.order.puraccount)+"("+t._s(t.order.purname)+")")])]),s("tr",[s("td",{staticClass:"tlabel"},[t._v("商品")]),s("td",{attrs:{colspan:"3"}},[s("img",{attrs:{width:"80",height:"80",src:t.hostHead+e.images[0]}}),t._v(" "+t._s(e.spname)+" "+t._s(e.price)+"¥X"+t._s(e.count)+" ")])]),s("tr",[s("td",{staticClass:"tlabel"},[t._v("物流单号")]),s("td",{attrs:{colspan:"3"}},[8==e.state?s("div",{staticStyle:{width:"300px"}},[s("el-input",{attrs:{placeholder:"请输入物流单号",clearable:""},model:{value:t.wlno,callback:function(s){t.wlno=s},expression:"wlno"}})],1):t._e(),3==e.state||4==e.state?s("div",[t._v(t._s(e.wlno))]):t._e()])]),8==e.state?s("tr",[s("td",{attrs:{colspan:"4"}},[s("el-button",{attrs:{type:"primary"},on:{click:t.fauoHandler}},[s("i",{staticClass:"el-icon-arrow-right"}),t._v("送餐")])],1)]):t._e()])}))],2)},r=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"logo"},[s("i",{staticClass:"fa fa-location-arrow"})])}],d={name:"fahuo",data(){return{oiid:this.$route.query.oiid,wlno:"",wltype:"顺丰",hostHead:this.$app.contextPath,order:{},receaddress:null}},props:{params:{type:Object,default:{}}},methods:{async getOrderInfo(){let{data:t}=await this.$http.post("admin/shorder/load",{id:this.params.id});t.stateCode<0?this.$message.error(t.des):(t.data.orderDetail=t.data.orderDetail.filter(t=>t.id==this.params.oiid),console.log("订单数据",t),this.order=t.data)},async getAddress(){let{data:t}=await this.$http.post("admin/receaddress/load",{id:this.order.addid});t.stateCode<0?this.$message.error(t.des):(this.receaddress=t.data,console.log("receaddress",this.receaddress))},async fauoHandler(){if(""==this.wlno)return void this.$message.error("请输入物流号");let{data:t}=await this.$http.post("admin/shorder/deliver",{oiid:this.params.oiid,wlno:this.wlno,wltype:this.wltype});t.stateCode<0?this.$message.error(t.des):(this.$message.success("派送完成"),this.$emit("close",!1))}},async created(){await this.getOrderInfo(),await this.getAddress()}},i=d,l=e("2877"),o=Object(l["a"])(i,a,r,!1,null,"0638c702",null);s["default"]=o.exports}}]);
//# sourceMappingURL=chunk-2d0da6d7.d255111c.js.map