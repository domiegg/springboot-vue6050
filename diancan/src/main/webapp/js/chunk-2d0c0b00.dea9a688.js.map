{"version":3,"sources":["webpack:///./src/e/xiadan.vue","webpack:///src/e/xiadan.vue","webpack:///./src/e/xiadan.vue?9d27","webpack:///./src/e/xiadan.vue?b83e"],"names":["render","_vm","this","_c","_self","attrs","$route","query","headid","staticClass","_v","_m","_l","cartItems","item","key","id","hostHead","value","tupian","_s","name","count","price","totalPrice","on","showAddressdlg","listReceaddress","address","index","class","selected","selectedIndex","$event","checkAddress","title","shr","addinfo","mobile","postcode","directives","rawName","remark","expression","staticStyle","domProps","target","composing","newOrderHandler","addressdlg","receaddress","$set","slot","saveReceadd","staticRenderFns","components","Bottom","Shead","loginmodal","data","over","openLogin","hyid","methods","load","temItems","ispaged","confirmButtonText","goods","spid","purchaser","psstyle","addid","emulateJSON","console","computed","sum","huiyuan","created","component"],"mappings":"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","file":"js/chunk-2d0c0b00.dea9a688.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('shead',{attrs:{\"headid\":_vm.$route.query.headid}}),_c('div',{staticClass:\"wrap round-block\"},[_c('el-steps',{attrs:{\"space\":200,\"active\":1,\"finish-status\":\"success\"}},[_c('el-step',{attrs:{\"title\":\"加入购物车\"}}),_c('el-step',{attrs:{\"title\":\"填写收货地址\"}}),_c('el-step',{attrs:{\"title\":\"付款\"}})],1),_c('div',{staticClass:\"shopcart-box\"},[_c('div',{staticClass:\"hd\"},[_vm._v(\"购物车\")]),_c('div',{staticClass:\"bd\"},[_c('table',{staticClass:\"table table-striped table-hover table-bordered\"},[_vm._m(0),_c('tbody',_vm._l((_vm.cartItems),function(item){return _c('tr',{key:item.id},[_c('td',[_c('img',{attrs:{\"width\":\"120\",\"height\":\"120\",\"src\":_vm.hostHead+item.value.tupian}})]),_c('td',[_vm._v(_vm._s(item.value.name))]),_c('td',[_vm._v(\" \"+_vm._s(item.value.count)+\" \")]),_c('td',[_vm._v(_vm._s(item.value.price)+\"¥\")]),_c('td',[_vm._v(_vm._s(item.value.count*item.value.price)+\"¥\")])])}),0)])])]),_c('div',{staticClass:\"total-price-panel\"},[_c('div',{staticClass:\"pull-left\"},[_vm._v(\" 总金额:\"),_c('span',{staticClass:\"price\"},[_vm._v(_vm._s(_vm.totalPrice)+\"¥\")])]),_c('div',{staticClass:\"pull-right\"})]),_c('div',{staticClass:\"address-list clearfix\"},[_c('div',{staticClass:\"plus-address\"},[_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"el-icon-plus\"},on:{\"click\":_vm.showAddressdlg}},[_vm._v(\"新增地址\")])],1),_c('div',_vm._l((_vm.listReceaddress),function(address,index){return _c('ul',{staticClass:\"address-info\",class:{selected:index==_vm.selectedIndex},on:{\"click\":function($event){return _vm.checkAddress(index)}}},[_c('div',{staticClass:\"add-title\"},[_vm._v(\" \"+_vm._s(address.title)+\" \")]),_c('li',[_vm._v(_vm._s(address.shr))]),_c('li',[_vm._v(_vm._s(address.addinfo))]),_c('li',[_vm._v(_vm._s(address.mobile))]),_c('li',[_vm._v(_vm._s(address.postcode))])])}),0)]),_c('table',{staticClass:\"smart-table\",attrs:{\"width\":\"100%\",\"border\":\"1\"}},[_c('tr',[_c('td',{staticClass:\"tlabel\",attrs:{\"width\":\"15%\",\"align\":\"right\",\"height\":\"34px\"}},[_vm._v(\" 说明: \")]),_c('td',[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.remark),expression:\"remark\"}],staticStyle:{\"width\":\"500px\",\"height\":\"80px\"},attrs:{\"name\":\"des\"},domProps:{\"value\":(_vm.remark)},on:{\"input\":function($event){if($event.target.composing)return;_vm.remark=$event.target.value}}})])]),_c('tr',[_c('td',{attrs:{\"colspan\":\"2\",\"height\":\"34px\"}},[_c('el-button-group',[_c('el-button',{attrs:{\"type\":\"warning\",\"icon\":\"el-icon-plus\"},on:{\"click\":_vm.newOrderHandler}},[_vm._v(\"下单结算\")]),_c('a',{staticClass:\"el-button--primary el-button\",attrs:{\"href\":\"/e/index.jsp\"}},[_vm._v(\"继续选物品\")])],1)],1)])])],1),_c('bottom'),_c('el-dialog',{attrs:{\"title\":\"收货地址管理\",\"visible\":_vm.addressdlg},on:{\"update:visible\":function($event){_vm.addressdlg=$event}}},[_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"收货人\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.receaddress.shr),expression:\"receaddress.shr\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"name\":\"shr\",\"placeholder\":\"收货人\"},domProps:{\"value\":(_vm.receaddress.shr)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.receaddress, \"shr\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"联系电话\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.receaddress.mobile),expression:\"receaddress.mobile\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"name\":\"mobile\",\"placeholder\":\"联系电话\"},domProps:{\"value\":(_vm.receaddress.mobile)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.receaddress, \"mobile\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"邮编\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.receaddress.postcode),expression:\"receaddress.postcode\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"name\":\"postcode\",\"placeholder\":\"邮编\"},domProps:{\"value\":(_vm.receaddress.postcode)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.receaddress, \"postcode\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"地址\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.receaddress.addinfo),expression:\"receaddress.addinfo\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"name\":\"addinfo\",\"placeholder\":\"地址\"},domProps:{\"value\":(_vm.receaddress.addinfo)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.receaddress, \"addinfo\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"备注\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.receaddress.title),expression:\"receaddress.title\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"name\":\"title\",\"placeholder\":\"请输入标题\"},domProps:{\"value\":(_vm.receaddress.title)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.receaddress, \"title\", $event.target.value)}}})]),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.saveReceadd}},[_vm._v(\"确 定\")]),_c('el-button',{on:{\"click\":function($event){_vm.addressdlg= false}}},[_vm._v(\"取 消\")])],1)])],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('thead',[_c('tr',[_c('th',[_vm._v(\"商品\")]),_c('th',[_vm._v(\"名称\")]),_c('th',[_vm._v(\"数量\")]),_c('th',[_vm._v(\"单价(元)\")]),_c('th',[_vm._v(\"金额(元)\")])])])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n\r\n        <shead :headid=\"$route.query.headid\"></shead>\r\n\r\n\r\n        <div class=\"wrap round-block\">\r\n            <el-steps :space=\"200\" :active=\"1\" finish-status=\"success\">\r\n                <el-step title=\"加入购物车\"></el-step>\r\n                <el-step title=\"填写收货地址\"></el-step>\r\n                <el-step title=\"付款\"></el-step>\r\n            </el-steps>\r\n            <div class=\"shopcart-box\">\r\n                <div class=\"hd\">购物车</div>\r\n                <div class=\"bd\">\r\n                    <table class=\"table table-striped table-hover table-bordered\">\r\n                        <thead>\r\n                        <tr>\r\n                            <th>商品</th>\r\n                            <th>名称</th>\r\n                            <th>数量</th>\r\n                            <th>单价(元)</th>\r\n                            <th>金额(元)</th>\r\n                        </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                        <tr  v-for=\"item in cartItems\" :key=\"item.id\">\r\n                            <td>\r\n                                <img width=\"120\" height=\"120\" :src=\"hostHead+item.value.tupian\"/>\r\n                            </td>\r\n                            <td>{{item.value.name}}</td>\r\n                            <td>\r\n                                {{item.value.count}}\r\n                            </td>\r\n                            <td>{{ item.value.price }}¥</td>\r\n                            <td>{{ item.value.count*item.value.price }}¥</td>\r\n                        </tr>\r\n                        </tbody>\r\n\r\n                    </table>\r\n\r\n\r\n                </div>\r\n            </div>\r\n\r\n\r\n            <div class=\"total-price-panel\">\r\n                <div class=\"pull-left\">\r\n                    总金额:<span class=\"price\">{{totalPrice}}¥</span>\r\n                </div>\r\n                <div class=\"pull-right\">\r\n\r\n                </div>\r\n            </div>\r\n\r\n\r\n\r\n            <!--addressBegin-->\r\n\r\n\r\n            <div class=\"address-list clearfix\">\r\n                <div class=\"plus-address\">\r\n                    <el-button  type=\"danger\" @click=\"showAddressdlg\" icon=\"el-icon-plus\">新增地址</el-button>\r\n                </div>\r\n                <div >\r\n                    <ul v-for=\"(address,index) in listReceaddress\" @click=\"checkAddress(index)\"   class=\"address-info\" :class=\"{selected:index==selectedIndex}\">\r\n                        <div class=\"add-title\">\r\n                            {{address.title }}\r\n                        </div><!-- end title -->\r\n                        <li>{{address.shr}}</li>\r\n                        <li>{{address.addinfo }}</li>\r\n                        <li>{{address.mobile }}</li>\r\n                        <li>{{address.postcode}}</li>\r\n                    </ul>\r\n                </div>\r\n\r\n\r\n\r\n            </div>\r\n\r\n            <table class=\"smart-table\" width=\"100%\"   border=\"1\">\r\n\r\n                <tr>\r\n                    <td width=\"15%\" class=\"tlabel\" align=\"right\" height=\"34px\">\r\n                        说明:\r\n                    </td>\r\n                    <td>\r\n                         <textarea v-model=\"remark\" style=\"width:500px;height:80px;\" name=\"des\">\r\n                         </textarea>\r\n                    </td>\r\n                </tr>\r\n\r\n                <tr>\r\n                    <td colspan=\"2\" height=\"34px\">\r\n                        <el-button-group>\r\n                            <el-button @click=\"newOrderHandler\"  type=\"warning\" icon=\"el-icon-plus\">下单结算</el-button>\r\n\r\n                            <a class=\"el-button--primary el-button\" href=\"/e/index.jsp\">继续选物品</a>\r\n\r\n                        </el-button-group>\r\n\r\n\r\n                    </td>\r\n\r\n                </tr>\r\n\r\n\r\n\r\n\r\n            </table>\r\n\r\n        </div>\r\n\r\n\r\n        <bottom></bottom>\r\n        <!--addressEnd--->\r\n        <el-dialog title=\"收货地址管理\" :visible.sync=\"addressdlg\">\r\n\r\n\r\n            <div class=\"form-group\">\r\n                <label>收货人</label>\r\n                <input type=\"text\" class=\"form-control\" name=\"shr\" v-model=\"receaddress.shr\" placeholder=\"收货人\"/>\r\n            </div>\r\n\r\n\r\n\r\n            <div class=\"form-group\">\r\n                <label>联系电话</label>\r\n                <input type=\"text\" class=\"form-control\" name=\"mobile\" v-model=\"receaddress.mobile\"  placeholder=\"联系电话\"/>\r\n            </div>\r\n\r\n\r\n\r\n            <div class=\"form-group\">\r\n                <label>邮编</label>\r\n                <input type=\"text\" class=\"form-control\" v-model=\"receaddress.postcode\" name=\"postcode\"   placeholder=\"邮编\"/>\r\n            </div>\r\n\r\n\r\n\r\n            <div class=\"form-group\">\r\n                <label>地址</label>\r\n                <input type=\"text\" class=\"form-control\" name=\"addinfo\"   v-model=\"receaddress.addinfo\"   placeholder=\"地址\"/>\r\n            </div>\r\n\r\n\r\n            <div class=\"form-group\">\r\n                <label>备注</label>\r\n                <input type=\"text\" class=\"form-control\" name=\"title\" v-model=\"receaddress.title\"    placeholder=\"请输入标题\"/>\r\n            </div>\r\n\r\n            <div slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button type=\"primary\" @click=\"saveReceadd\">确 定</el-button>\r\n                <el-button @click=\"addressdlg= false\">取 消</el-button>\r\n            </div>\r\n\r\n\r\n\r\n        </el-dialog>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import  ss from \"../util/SmartStorage\";\r\n    import Bottom from \"./bottom\";\r\n    import 'bootstrap/dist/css/bootstrap.css';\r\n    import Shead from \"./shead\";\r\n    import loginmodal from \"./loginmodal\";\r\n    export default {\r\n        name: \"xiadan\",\r\n        components:{Bottom,Shead,loginmodal},\r\n        data(){\r\n            return {\r\n                cartItems:[],\r\n                hostHead:this.$app.contextPath,\r\n                remark:'',\r\n                over:false,\r\n                openLogin:false,\r\n                addressdlg:false,\r\n                selectedIndex:0,\r\n                receaddress: {\r\n                    shr: \"\",\r\n                    mobile:\"\",\r\n                    hyid:\"\",\r\n                    postcode: \"\",\r\n                    addinfo: \"\",\r\n                    title: \"\"\r\n                },\r\n                listReceaddress:[]\r\n            }\r\n        },\r\n        methods:{\r\n\r\n            load(){\r\n                let cart=new SmartStorage();\r\n                let temItems=cart.getItems();\r\n                if (temItems!=null)\r\n                    temItems.forEach(c=>{\r\n                        if (c.value.selected)\r\n                            this.cartItems.push(c);\r\n                    });\r\n\r\n                this.getAddressList();\r\n\r\n            },\r\n            async showAddressdlg(){\r\n                this.addressdlg=true;\r\n                this.receaddress.shr=this.huiyuan.name;\r\n                this.receaddress.mobile=this.huiyuan.mobile;\r\n\r\n            },\r\n            checkAddress(idx){\r\n                this.selectedIndex=idx;\r\n            },\r\n            async getAddressList(){\r\n                let url=\"admin/receaddress/list\";\r\n\r\n                let {data:res}=await this.$http.post(url,{\r\n                    hyid:this.huiyuan.id,\r\n                    ispaged:-1\r\n                });\r\n                if(res!=null&&res.stateCode<0){\r\n                    this.$message.error(res.des);\r\n                    return;\r\n                }\r\n                this.listReceaddress=res.data;\r\n                if(this.listReceaddress!=null&&this.listReceaddress.length>0)\r\n                     this.addrid=this.listReceaddress[0].id;\r\n            },\r\n            async saveReceadd(){\r\n\r\n                let url=\"admin/receaddress/save\";\r\n                if (this.receaddress.shr==\"\"){\r\n                    this.$message.error(\"请填写收货人地址\");\r\n                    return ;\r\n                }\r\n                if (this.receaddress.mobile==\"\"){\r\n                    this.$message.error(\"请填写手机号\");\r\n                    return ;\r\n                }\r\n                if (this.receaddress.postcode==\"\"){\r\n                    this.$message.error(\"请填写邮编\");\r\n                    return ;\r\n                }\r\n                if (this.receaddress.addinfo==\"\"){\r\n                    this.$message.error(\"请填写地址\");\r\n                    return ;\r\n                }\r\n                if (this.receaddress.title==\"\"){\r\n                    this.$message.error(\"请填写备注\");\r\n                    return ;\r\n                }\r\n                this.receaddress.hyid=this.huiyuan.id;\r\n                let {data:res}=await this.$http.post(url,this.receaddress);\r\n                if(res!=null&&res.stateCode<0){\r\n                    this.$message.error(res.des);\r\n                    return;\r\n                }\r\n                this.$message.success(\"保存成功\");\r\n                this.addressdlg=false;\r\n                this.getAddressList();\r\n            },\r\n            async newOrderHandler(){\r\n                if (this.listReceaddress==null||this.listReceaddress.length==0){\r\n                    this.$alert('请填写收货地址', '系统提示', {\r\n                        confirmButtonText: '确定'\r\n                    });\r\n                    return;\r\n                }\r\n                let goods = [];\r\n                this.cartItems.forEach(c => {\r\n                    if (c.value.selected) {\r\n                        goods.push({\r\n                            spid: c.value.id,\r\n                            count: c.value.count,\r\n                            price: c.value.price\r\n                        });\r\n                    }\r\n                });\r\n                let addid=this.listReceaddress[this.selectedIndex].id\r\n                let {data:res}=await this.$http.post(\"admin/shorder/save\", {\r\n                    purchaser:this.huiyuan.id,\r\n                    psstyle:\"网购\",\r\n                    remark:this.remark,\r\n                    addid:addid,\r\n                    goods,\r\n                },{\r\n                    emulateJSON:false\r\n                });\r\n                if (res!=null&&res.stateCode<0){\r\n                    this.$message.error(res.des);\r\n                    return;\r\n                }\r\n                if (res!=null&&res.stateCode<0){\r\n                    this.$message.error(res.des);\r\n                    return;\r\n                }\r\n                console.log(\"res=\",res);\r\n                if (res!=null&&res.stateCode>0) {\r\n                    new SmartStorage().clear();\r\n                    this.$router.push(\"/e/payment?id=\" +res.data.id);\r\n                }\r\n            }\r\n\r\n        },\r\n        computed:{\r\n            totalPrice(){\r\n                if(this.cartItems==null||this.cartItems.length==0)\r\n                    return 0;\r\n                let sum=0;\r\n                this.cartItems.forEach(c=>{\r\n                    if(c.value.selected)\r\n                        sum+=c.value.count*c.value.price;\r\n                });\r\n                return sum;\r\n            },\r\n            huiyuan(){\r\n                return this.$app.mycas.getAccount(this.$app.mycas.huiyuan_key);\r\n            }\r\n\r\n        },\r\n        created () {\r\n            this.load();\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./xiadan.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./xiadan.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./xiadan.vue?vue&type=template&id=f3722e32&scoped=true&\"\nimport script from \"./xiadan.vue?vue&type=script&lang=js&\"\nexport * from \"./xiadan.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f3722e32\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}